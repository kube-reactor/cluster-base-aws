#
# ArtifactHub: https://artifacthub.io/packages/helm/prometheus-community/kube-prometheus-stack
# GitHub: https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack
# Default Values: https://github.com/prometheus-community/helm-charts/blob/main/charts/kube-prometheus-stack/values.yaml
#
alertmanager:
    alertmanagerSpec:
        resources:
            requests:
                cpu: "100m"
                memory: "128Mi"
            limits:
                cpu: "150m"
                memory: "192Mi"

prometheusOperator:
    resources:
        requests:
            cpu: "100m"
            memory: "128Mi"
        limits:
            cpu: "150m"
            memory: "192Mi"

kubeEtcd:
    enable: false

prometheus:
    prometheusSpec:
        serviceMonitorSelectorNilUsesHelmValues: false
        podMonitorSelectorNilUsesHelmValues: false
        # probeSelectorNilUsesHelmValues: false
        # ruleSelectorNilUsesHelmValues: false
        resources:
            requests:
                cpu: "500m"
                memory: "1024Mi"
            limits:
                cpu: "750m"
                memory: "1536Mi"

additionalPrometheusRulesMap:
    rule-name:
        groups: []

kubeScheduler:
    enabled: false

kubeControllerManager:
    enabled: false

kubelet:
  cAdvisorMetricRelabelings: []

grafana:
    enabled: true
    forceDeployDatasources: true
    forceDeployDashboards: true

    datasources:
        datasources.yaml:
            apiVersion: 1
            datasources:
                - name: Loki
                  type: loki
                  access: proxy
                  url: http://loki-gateway.loki
                  jsonData:
                      httpHeaderName1: "X-Scope-OrgID"
                  secureJsonData:
                      httpHeaderValue1: "tenant1"
    admin:
        existingSecret: "grafana-password"
        userKey: admin-user
        passwordKey: admin-password
    resources:
    limits:
        cpu: 128m
        memory: 128Mi
    requests:
        cpu: 64m
        memory: 64Mi
    grafana.ini:
        auth:
            disable_login_form: false
        auth.basic:
            enabled: true
        users:
            auto_assign_org_role: Admin
        server:
            domain: "monitor.${OPERATIONS_DOMAIN}"
            root_url: "https://monitor.${OPERATIONS_DOMAIN}"
    ingress:
        enabled: true
        hosts:
            - "monitor.${OPERATIONS_DOMAIN}"
        path: "/"
        ingressClassName: nginx
        annotations:
          cert-manager.io/cluster-issuer: letsencrypt-prod
        tls:
            - secretName: grafana-tls
              hosts:
                  - "monitor.${OPERATIONS_DOMAIN}"
        annotations:
            kubernetes.io/ingress.class: nginx
    extraVolumeMounts: []
    dashboardProviders:
        default.yaml:
            apiVersion: 1
            providers:
                - name: "default"
                  folder: "logging"
                  type: file
                  updateIntervalSeconds: 10
                  options:
                      path: /var/lib/grafana/dashboards
    dashboards:
        default:
            loki-kubernetes-logs:
                json: |
                    {
                      "__inputs": [
                        {
                          "name": "DS_LOKI",
                          "label": "Loki",
                          "description": "",
                          "type": "datasource",
                          "pluginId": "loki",
                          "pluginName": "Loki"
                        }
                      ],
                      "__elements": {},
                      "__requires": [
                        {
                          "type": "panel",
                          "id": "gauge",
                          "name": "Gauge",
                          "version": ""
                        },
                        {
                          "type": "grafana",
                          "id": "grafana",
                          "name": "Grafana",
                          "version": "11.4.0"
                        },
                        {
                          "type": "panel",
                          "id": "logs",
                          "name": "Logs",
                          "version": ""
                        },
                        {
                          "type": "datasource",
                          "id": "loki",
                          "name": "Loki",
                          "version": "1.0.0"
                        },
                        {
                          "type": "panel",
                          "id": "piechart",
                          "name": "Pie chart",
                          "version": ""
                        },
                        {
                          "type": "panel",
                          "id": "stat",
                          "name": "Stat",
                          "version": ""
                        },
                        {
                          "type": "panel",
                          "id": "text",
                          "name": "Text",
                          "version": ""
                        },
                        {
                          "type": "panel",
                          "id": "timeseries",
                          "name": "Time series",
                          "version": ""
                        }
                      ],
                      "annotations": {
                        "list": [
                          {
                            "builtIn": 1,
                            "datasource": {
                              "type": "datasource",
                              "uid": "grafana"
                            },
                            "enable": true,
                            "hide": true,
                            "iconColor": "rgba(0, 211, 255, 1)",
                            "name": "Annotations & Alerts",
                            "type": "dashboard"
                          }
                        ]
                      },
                      "description": "Universal and flexible dashboard for logging",
                      "editable": true,
                      "fiscalYearStartMonth": 0,
                      "graphTooltip": 0,
                      "id": null,
                      "links": [],
                      "panels": [
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "Loki"
                          },
                          "description": "Total  Count of log lines in the specified time range",
                          "fieldConfig": {
                            "defaults": {
                              "mappings": [
                                {
                                  "options": {
                                    "match": "null",
                                    "result": {
                                      "color": "rgb(31, 255, 7)",
                                      "text": "0"
                                    }
                                  },
                                  "type": "special"
                                }
                              ],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "rgb(31, 255, 7)",
                                    "value": null
                                  },
                                  {
                                    "color": "rgb(31, 255, 7)",
                                    "value": 10
                                  },
                                  {
                                    "color": "rgb(31, 255, 7)",
                                    "value": 50
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 3,
                            "w": 12,
                            "x": 0,
                            "y": 0
                          },
                          "id": 11,
                          "maxDataPoints": 100,
                          "options": {
                            "colorMode": "value",
                            "graphMode": "area",
                            "justifyMode": "auto",
                            "orientation": "horizontal",
                            "percentChangeColorMode": "standard",
                            "reduceOptions": {
                              "calcs": [
                                "sum"
                              ],
                              "fields": "",
                              "values": false
                            },
                            "showPercentChange": false,
                            "textMode": "auto",
                            "wideLayout": true
                          },
                          "pluginVersion": "11.4.0",
                          "targets": [
                            {
                              "datasource": {
                                "type": "loki",
                                "uid": "Loki"
                              },
                              "expr": "sum(count_over_time(({container=\"$container\", stream=~\"$stream\", pod=~\"$pod\"})[$__interval]))",
                              "hide": false,
                              "refId": "A"
                            }
                          ],
                          "title": "Total  Count of logs",
                          "type": "stat"
                        },
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "Loki"
                          },
                          "description": "Total Count: of $searchable_pattern in the specified time range",
                          "fieldConfig": {
                            "defaults": {
                              "mappings": [
                                {
                                  "options": {
                                    "match": "null",
                                    "result": {
                                      "color": "rgb(222, 15, 43)",
                                      "text": "0"
                                    }
                                  },
                                  "type": "special"
                                }
                              ],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "rgb(222, 15, 43)",
                                    "value": null
                                  },
                                  {
                                    "color": "rgb(222, 15, 43)",
                                    "value": 10
                                  },
                                  {
                                    "color": "rgb(222, 15, 43)",
                                    "value": 50
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 3,
                            "w": 12,
                            "x": 12,
                            "y": 0
                          },
                          "id": 6,
                          "maxDataPoints": 100,
                          "options": {
                            "colorMode": "value",
                            "graphMode": "area",
                            "justifyMode": "auto",
                            "orientation": "horizontal",
                            "percentChangeColorMode": "standard",
                            "reduceOptions": {
                              "calcs": [
                                "sum"
                              ],
                              "fields": "",
                              "values": false
                            },
                            "showPercentChange": false,
                            "textMode": "auto",
                            "wideLayout": true
                          },
                          "pluginVersion": "11.4.0",
                          "targets": [
                            {
                              "datasource": {
                                "type": "loki",
                                "uid": "Loki"
                              },
                              "expr": "sum(count_over_time(({container=\"$container\", stream=~\"$stream\", pod=~\"$pod\"} |~ \"(?i)$searchable_pattern\")[$__interval]))",
                              "hide": false,
                              "refId": "A"
                            }
                          ],
                          "title": "Total Count: of $searchable_pattern",
                          "type": "stat"
                        },
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "Loki"
                          },
                          "description": "Live logs is a like 'tail -f' in a real time",
                          "gridPos": {
                            "h": 9,
                            "w": 24,
                            "x": 0,
                            "y": 3
                          },
                          "id": 2,
                          "options": {
                            "dedupStrategy": "none",
                            "enableLogDetails": true,
                            "prettifyLogMessage": false,
                            "showCommonLabels": false,
                            "showLabels": true,
                            "showTime": false,
                            "sortOrder": "Descending",
                            "wrapLogMessage": false
                          },
                          "pluginVersion": "11.4.0",
                          "targets": [
                            {
                              "datasource": {
                                "type": "loki",
                                "uid": "Loki"
                              },
                              "expr": "{container=\"$container\", pod=~\"$pod\", stream=~\"$stream\"} |~ \"(?i)$searchable_pattern\" ",
                              "hide": false,
                              "refId": "A"
                            }
                          ],
                          "title": "Live logs",
                          "type": "logs"
                        },
                        {
                          "gridPos": {
                            "h": 2,
                            "w": 24,
                            "x": 0,
                            "y": 12
                          },
                          "id": 15,
                          "options": {
                            "code": {
                              "language": "plaintext",
                              "showLineNumbers": false,
                              "showMiniMap": false
                            },
                            "content": "",
                            "mode": "html"
                          },
                          "pluginVersion": "11.4.0",
                          "type": "text"
                        },
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "Loki"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                }
                              },
                              "decimals": 0,
                              "mappings": [],
                              "unit": "short"
                            },
                            "overrides": [
                              {
                                "matcher": {
                                  "id": "byName",
                                  "options": "stderr"
                                },
                                "properties": [
                                  {
                                    "id": "color",
                                    "value": {
                                      "fixedColor": "#C4162A",
                                      "mode": "fixed"
                                    }
                                  }
                                ]
                              },
                              {
                                "matcher": {
                                  "id": "byName",
                                  "options": "stdout"
                                },
                                "properties": [
                                  {
                                    "id": "color",
                                    "value": {
                                      "fixedColor": "#37872D",
                                      "mode": "fixed"
                                    }
                                  }
                                ]
                              }
                            ]
                          },
                          "gridPos": {
                            "h": 7,
                            "w": 7,
                            "x": 0,
                            "y": 14
                          },
                          "id": 19,
                          "maxDataPoints": 100,
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true,
                              "values": [
                                "value",
                                "percent"
                              ]
                            },
                            "pieType": "pie",
                            "reduceOptions": {
                              "calcs": [
                                "sum"
                              ],
                              "fields": "",
                              "values": false
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "11.4.0",
                          "targets": [
                            {
                              "datasource": {
                                "type": "loki",
                                "uid": "Loki"
                              },
                              "expr": "sum(count_over_time(({container=\"$container\", pod=~\"$pod\"})[$__interval])) by (stream)",
                              "hide": false,
                              "refId": "A"
                            }
                          ],
                          "title": "Total count of stderr / stdout pie",
                          "type": "piechart"
                        },
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "Loki"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                }
                              },
                              "decimals": 0,
                              "mappings": [],
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 7,
                            "w": 12,
                            "x": 7,
                            "y": 14
                          },
                          "id": 20,
                          "interval": "1m",
                          "maxDataPoints": "",
                          "options": {
                            "legend": {
                              "calcs": [],
                              "displayMode": "table",
                              "placement": "right",
                              "showLegend": true,
                              "values": [
                                "value",
                                "percent"
                              ]
                            },
                            "pieType": "donut",
                            "reduceOptions": {
                              "calcs": [
                                "sum"
                              ],
                              "fields": "",
                              "values": false
                            },
                            "tooltip": {
                              "mode": "single",
                              "sort": "none"
                            }
                          },
                          "pluginVersion": "11.4.0",
                          "targets": [
                            {
                              "datasource": {
                                "type": "loki",
                                "uid": "Loki"
                              },
                              "expr": "sum(count_over_time(({container=\"$container\", pod=~\"$pod\", stream=~\"$stream\"} |~ \"(?i)$searchable_pattern\")[$__interval])) by (pod)",
                              "refId": "A"
                            }
                          ],
                          "title": "Matched word: \"$searchable_pattern\" donut",
                          "type": "piechart"
                        },
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "Loki"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "mappings": [
                                {
                                  "options": {
                                    "match": "null",
                                    "result": {
                                      "color": "#299c46",
                                      "text": "0"
                                    }
                                  },
                                  "type": "special"
                                }
                              ],
                              "max": 100,
                              "min": 0,
                              "noValue": "0",
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "#299c46",
                                    "value": null
                                  },
                                  {
                                    "color": "rgba(237, 129, 40, 0.89)",
                                    "value": 10
                                  },
                                  {
                                    "color": "#C4162A",
                                    "value": 50
                                  }
                                ]
                              },
                              "unit": "percent"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 7,
                            "w": 5,
                            "x": 19,
                            "y": 14
                          },
                          "id": 9,
                          "maxDataPoints": 100,
                          "options": {
                            "minVizHeight": 75,
                            "minVizWidth": 75,
                            "orientation": "auto",
                            "reduceOptions": {
                              "calcs": [
                                "mean"
                              ],
                              "fields": "",
                              "values": false
                            },
                            "showThresholdLabels": false,
                            "showThresholdMarkers": false,
                            "sizing": "auto"
                          },
                          "pluginVersion": "11.4.0",
                          "targets": [
                            {
                              "datasource": {
                                "type": "loki",
                                "uid": "Loki"
                              },
                              "expr": "sum(count_over_time(({container=\"$container\", stream=~\"$stream\", pod=~\"$pod\"} |~ \"(?i)$searchable_pattern\")[$__interval])) * 100 / sum(count_over_time(({container=\"$container\", stream=~\"$stream\", pod=~\"$pod\"})[$__interval]))",
                              "hide": false,
                              "refId": "A"
                            }
                          ],
                          "title": "\"$searchable_pattern\" Percentage for specified time",
                          "type": "gauge"
                        },
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "Loki"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "Count",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "bars",
                                "fillOpacity": 100,
                                "gradientMode": "opacity",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 3,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "decimals": 0,
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green",
                                    "value": null
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 9,
                            "w": 12,
                            "x": 0,
                            "y": 21
                          },
                          "id": 18,
                          "interval": "1m",
                          "maxDataPoints": "",
                          "options": {
                            "dataLinks": [],
                            "legend": {
                              "calcs": [
                                "lastNotNull"
                              ],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "desc"
                            }
                          },
                          "pluginVersion": "11.4.0",
                          "targets": [
                            {
                              "datasource": {
                                "type": "loki",
                                "uid": "Loki"
                              },
                              "expr": "sum(count_over_time(({container=\"$container\", pod=~\"$pod\", stream=~\"$stream\"} |~ \"(?i)$searchable_pattern\")[$__interval])) by (pod)",
                              "refId": "A"
                            }
                          ],
                          "title": "Matched word: \"$searchable_pattern\" historical",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "Loki"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 100,
                                "gradientMode": "opacity",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                  "log": 10,
                                  "type": "log"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "green",
                                    "value": null
                                  },
                                  {
                                    "color": "red",
                                    "value": 80
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": []
                          },
                          "gridPos": {
                            "h": 9,
                            "w": 12,
                            "x": 12,
                            "y": 21
                          },
                          "id": 10,
                          "maxDataPoints": 100,
                          "options": {
                            "dataLinks": [],
                            "legend": {
                              "calcs": [],
                              "displayMode": "table",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "desc"
                            }
                          },
                          "pluginVersion": "11.4.0",
                          "targets": [
                            {
                              "datasource": {
                                "type": "loki",
                                "uid": "Loki"
                              },
                              "expr": "sum(rate(({container=\"$container\", stream=~\"$stream\", pod=~\"$pod\"} |~ \"(?i)$searchable_pattern\")[30s])) by (pod)",
                              "hide": false,
                              "refId": "A"
                            }
                          ],
                          "title": "\"$searchable_pattern\" Rate per Pod",
                          "type": "timeseries"
                        },
                        {
                          "datasource": {
                            "type": "loki",
                            "uid": "Loki"
                          },
                          "fieldConfig": {
                            "defaults": {
                              "color": {
                                "mode": "palette-classic"
                              },
                              "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "barWidthFactor": 0.6,
                                "drawStyle": "line",
                                "fillOpacity": 40,
                                "gradientMode": "opacity",
                                "hideFrom": {
                                  "legend": false,
                                  "tooltip": false,
                                  "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 6,
                                "scaleDistribution": {
                                  "type": "linear"
                                },
                                "showPoints": "always",
                                "spanNulls": false,
                                "stacking": {
                                  "group": "A",
                                  "mode": "none"
                                },
                                "thresholdsStyle": {
                                  "mode": "off"
                                }
                              },
                              "mappings": [
                                {
                                  "options": {
                                    "match": "null",
                                    "result": {
                                      "color": "#299c46",
                                      "text": "0"
                                    }
                                  },
                                  "type": "special"
                                }
                              ],
                              "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                  {
                                    "color": "#299c46",
                                    "value": null
                                  },
                                  {
                                    "color": "rgba(237, 129, 40, 0.89)",
                                    "value": 10
                                  },
                                  {
                                    "color": "#C4162A",
                                    "value": 50
                                  }
                                ]
                              },
                              "unit": "short"
                            },
                            "overrides": [
                              {
                                "matcher": {
                                  "id": "byName",
                                  "options": "{stream=\"stderr\"} stderr"
                                },
                                "properties": [
                                  {
                                    "id": "color",
                                    "value": {
                                      "fixedColor": "#C4162A",
                                      "mode": "fixed"
                                    }
                                  },
                                  {
                                    "id": "custom.lineWidth",
                                    "value": 2
                                  }
                                ]
                              },
                              {
                                "matcher": {
                                  "id": "byName",
                                  "options": "{stream=\"stdout\"} stdout"
                                },
                                "properties": [
                                  {
                                    "id": "color",
                                    "value": {
                                      "fixedColor": "#56A64B",
                                      "mode": "fixed"
                                    }
                                  },
                                  {
                                    "id": "custom.lineWidth",
                                    "value": 2
                                  }
                                ]
                              }
                            ]
                          },
                          "gridPos": {
                            "h": 8,
                            "w": 24,
                            "x": 0,
                            "y": 30
                          },
                          "id": 7,
                          "maxDataPoints": 100,
                          "options": {
                            "dataLinks": [],
                            "legend": {
                              "calcs": [],
                              "displayMode": "list",
                              "placement": "bottom",
                              "showLegend": true
                            },
                            "tooltip": {
                              "mode": "multi",
                              "sort": "desc"
                            }
                          },
                          "pluginVersion": "11.4.0",
                          "targets": [
                            {
                              "datasource": {
                                "type": "loki",
                                "uid": "Loki"
                              },
                              "expr": "sum(count_over_time(({container=\"$container\", pod=~\"$pod\"})[$__interval])) by (stream)",
                              "hide": false,
                              "refId": "A"
                            }
                          ],
                          "title": "Count of stderr / stdout historical",
                          "type": "timeseries"
                        }
                      ],
                      "refresh": "5s",
                      "schemaVersion": 40,
                      "tags": [
                        "Loki",
                        "logging"
                      ],
                      "templating": {
                        "list": [
                          {
                            "current": {},
                            "datasource": {
                              "type": "loki",
                              "uid": "Loki"
                            },
                            "definition": "label_values({container=~\".+\"}, container)",
                            "includeAll": false,
                            "label": "Service",
                            "name": "container",
                            "options": [],
                            "query": "label_values({container=~\".+\"}, container)",
                            "refresh": 2,
                            "regex": "",
                            "type": "query"
                          },
                          {
                            "current": {},
                            "datasource": {
                              "type": "loki",
                              "uid": "Loki"
                            },
                            "definition": "label_values({container=\"$container\"}, pod)",
                            "includeAll": true,
                            "label": "Pod",
                            "name": "pod",
                            "options": [],
                            "query": "label_values({container=\"$container\"}, pod)",
                            "refresh": 2,
                            "regex": "",
                            "type": "query"
                          },
                          {
                            "current": {},
                            "datasource": {
                              "type": "loki",
                              "uid": "Loki"
                            },
                            "definition": "label_values({container=\"$container\"}, stream)",
                            "includeAll": true,
                            "label": "Stream",
                            "name": "stream",
                            "options": [],
                            "query": "label_values({container=\"$container\"}, stream)",
                            "refresh": 2,
                            "regex": "",
                            "type": "query"
                          },
                          {
                            "current": {
                              "text": "",
                              "value": ""
                            },
                            "label": "Search (case insensitive)",
                            "name": "searchable_pattern",
                            "options": [
                              {
                                "selected": true,
                                "text": "",
                                "value": ""
                              }
                            ],
                            "query": "",
                            "type": "textbox"
                          }
                        ]
                      },
                      "time": {
                        "from": "now-30m",
                        "to": "now"
                      },
                      "timepicker": {
                        "refresh_intervals": [
                          "10s",
                          "30s",
                          "1m",
                          "5m",
                          "15m",
                          "30m",
                          "1h",
                          "2h",
                          "1d"
                        ]
                      },
                      "timezone": "",
                      "title": "Logging Dashboard via Loki v2",
                      "uid": "5rnLQdJVk",
                      "version": 1,
                      "weekStart": ""
                    }
